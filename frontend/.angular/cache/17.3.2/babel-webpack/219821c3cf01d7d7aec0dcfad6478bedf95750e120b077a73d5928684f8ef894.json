{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { first } from 'rxjs/operators';\nlet VerifyEmailComponent = class VerifyEmailComponent {\n  constructor(route, router, accountService, alertService) {\n    this.route = route;\n    this.router = router;\n    this.accountService = accountService;\n    this.alertService = alertService;\n    this.submitted = false;\n    this.loading = false;\n    this.tokenInProgress = false;\n    this.verificationComplete = false;\n  }\n  ngOnInit() {\n    // Clear any previous alerts\n    this.alertService.clear();\n    // Get token from query params\n    this.route.queryParams.subscribe(params => {\n      this.token = params['token'] || '';\n      // If token is provided in URL, verify automatically\n      if (this.token) {\n        this.onSubmit();\n      }\n    });\n  }\n  onSubmit() {\n    this.alertService.clear();\n    this.submitted = true;\n    // Don't proceed if token is empty\n    if (!this.token) {\n      this.alertService.error('Please enter a verification token');\n      return;\n    }\n    this.loading = true;\n    this.tokenInProgress = true;\n    this.accountService.verifyEmail(this.token).pipe(first()).subscribe({\n      next: () => {\n        this.alertService.success('Verification successful, you can now login', {\n          keepAfterRouteChange: true\n        });\n        this.verificationComplete = true;\n        this.loading = false;\n        this.tokenInProgress = false;\n      },\n      error: error => {\n        this.alertService.error(error);\n        this.loading = false;\n        this.tokenInProgress = false;\n      }\n    });\n  }\n};\nVerifyEmailComponent = __decorate([Component({\n  templateUrl: 'verify-email.component.html'\n})], VerifyEmailComponent);\nexport { VerifyEmailComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}